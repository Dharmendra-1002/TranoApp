
// import React from 'react';
// import { View, Text, ScrollView } from 'react-native';
// import { SafeAreaView } from 'react-native-safe-area-context';
// import { TouchableOpacity } from 'react-native-gesture-handler';

// const Credit_Limit_Notification
// = () => {
//   return (

//     <SafeAreaView className="bg-violet-950 flex-1">
//       <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>
//         <View style={{ width: '90%', height: '90%', backgroundColor: '#FFF', borderRadius: 20, padding: 20 }}>
//           <ScrollView>
//             <View style={{ justifyContent: 'center', alignItems: 'center' }}>
         
//               <View style={{ width: '90%', height: 200, backgroundColor: '#EDE9FE', marginVertical: 10, borderRadius: 10, padding: 10 }}>
//                 <Text style={{ fontSize: 20, color: '#4E2D87', textAlign: 'center' }}>Credit LIMIT Approval</Text>
//                 <Text style={{ fontSize: 15, color: '#000', marginTop: 10 }}>OEM/Distributor : OEM 1</Text>
//                 <Text style={{ fontSize: 15, color: '#000' }}>Name: J Technologies</Text>
//                 <Text style={{ fontSize: 15, color: '#000' }}>Credit Limit :6,00,000/-</Text>


//                 <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>
//                   <TouchableOpacity onPress={() => console.log('HOLD button pressed')} style={{ marginTop: 20 }}>
//                     <Text style={{ fontSize: 15, color: '#FFF', backgroundColor: '#DC143C', borderRadius: 40, paddingHorizontal: 20, paddingVertical: 10 }}>HOLD</Text>
//                   </TouchableOpacity>
//                   <TouchableOpacity onPress={() => console.log('Approve button pressed')} style={{ marginTop: 20, marginLeft: 10 }}>
//                     <Text style={{ fontSize: 15, color: '#FFF', backgroundColor: '#7ed321', borderRadius: 40, paddingHorizontal: 20, paddingVertical: 10 }}>Approve</Text>
//                   </TouchableOpacity>
//                 </View>
//               </View>


//               <View style={{ width: '90%', height: 200, backgroundColor: '#EDE9FE', marginVertical: 10, borderRadius: 10, padding: 10 }}>
//               <Text style={{ fontSize: 20, color: '#4E2D87', textAlign: 'center' }}>Credit LIMIT Approval</Text>
//                 <Text style={{ fontSize: 15, color: '#000', marginTop: 10 }}>OEM/Distributor : OEM 1</Text>
//                 <Text style={{ fontSize: 15, color: '#000' }}>Name: J Technologies</Text>
//                 <Text style={{ fontSize: 15, color: '#000' }}>Credit Limit :6,00,000/-</Text>


//                 <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>
//                   <TouchableOpacity onPress={() => console.log('HOLD button pressed')} style={{ marginTop: 20 }}>
//                     <Text style={{ fontSize: 15, color: '#FFF', backgroundColor: '#DC143C', borderRadius: 40, paddingHorizontal: 20, paddingVertical: 10 }}>HOLD</Text>
//                   </TouchableOpacity>
//                   <TouchableOpacity onPress={() => console.log('Approve button pressed')} style={{ marginTop: 20, marginLeft: 10 }}>
//                     <Text style={{ fontSize: 15, color: '#FFF', backgroundColor: '#7ed321', borderRadius: 40, paddingHorizontal: 20, paddingVertical: 10 }}>Approve</Text>
//                   </TouchableOpacity>
//                 </View>




//               </View>

//               <View style={{ width: '90%', height: 200, backgroundColor: '#EDE9FE', marginVertical: 10, borderRadius: 10, padding: 10 }}>
//                 <Text style={{ fontSize: 20, color: '#4E2D87', textAlign: 'center' }}>Credit LIMIT Approval</Text>
//                 <Text style={{ fontSize: 15, color: '#000', marginTop: 10 }}>OEM/Distributor : OEM 1</Text>
//                 <Text style={{ fontSize: 15, color: '#000' }}>Name: J Technologies</Text>
//                 <Text style={{ fontSize: 15, color: '#000' }}>Credit Limit :6,00,000/-</Text>


//                 <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>
//                   <TouchableOpacity onPress={() => console.log('HOLD button pressed')} style={{ marginTop: 20 }}>
//                     <Text style={{ fontSize: 15, color: '#FFF', backgroundColor: '#DC143C', borderRadius: 40, paddingHorizontal: 20, paddingVertical: 10 }}>HOLD</Text>
//                   </TouchableOpacity>
//                   <TouchableOpacity onPress={() => console.log('Approve button pressed')} style={{ marginTop: 20, marginLeft: 10 }}>
//                     <Text style={{ fontSize: 15, color: '#FFF', backgroundColor: '#7ed321', borderRadius: 40, paddingHorizontal: 20, paddingVertical: 10 }}>Approve</Text>
//                   </TouchableOpacity>
//                 </View>
//               </View>
//               <View style={{ width: '90%', height: 200, backgroundColor: '#EDE9FE', marginVertical: 10, borderRadius: 10, padding: 10 }}>
//               <Text style={{ fontSize: 20, color: '#4E2D87', textAlign: 'center' }}>Credit LIMIT Approval</Text>
//                 <Text style={{ fontSize: 15, color: '#000', marginTop: 10 }}>OEM/Distributor : OEM 1</Text>
//                 <Text style={{ fontSize: 15, color: '#000' }}>Name: J Technologies</Text>
//                 <Text style={{ fontSize: 15, color: '#000' }}>Credit Limit :6,00,000/-</Text>


//                 <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>
//                   <TouchableOpacity onPress={() => console.log('HOLD button pressed')} style={{ marginTop: 20 }}>
//                     <Text style={{ fontSize: 15, color: '#FFF', backgroundColor: '#DC143C', borderRadius: 40, paddingHorizontal: 20, paddingVertical: 10 }}>HOLD</Text>
//                   </TouchableOpacity>
//                   <TouchableOpacity onPress={() => console.log('Approve button pressed')} style={{ marginTop: 20, marginLeft: 10 }}>
//                     <Text style={{ fontSize: 15, color: '#FFF', backgroundColor: '#7ed321', borderRadius: 40, paddingHorizontal: 20, paddingVertical: 10 }}>Approve</Text>
//                   </TouchableOpacity>
//                 </View>
//               </View>
//             </View>
//           </ScrollView>
//         </View>
//       </View>
//     </SafeAreaView>
//   );
// }

// export default Credit_Limit_Notification
// ;





// import React, { useState, useEffect } from 'react';
// import { View, Text, ScrollView } from 'react-native';
// import { SafeAreaView } from 'react-native-safe-area-context';
// import { TouchableOpacity } from 'react-native-gesture-handler';

// const Credit_Limit_Notification = () => {
//   const [data, setData] = useState([]);
//   const [loading, setLoading] = useState(true);

//   useEffect(() => {
//     const fetchPendingApprovalList = async () => {
//       const url = 'http://testing-only-erp-api.containe.in/api/Wallet/GetPendingApprovalListForNotification';
//       const headers = {
//         'MobileAPISecKey': 'X7vNc2Pg4L0kRy1FJ8sBhMzWaEt5DpQx',
//         'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJKV1RTZXJ2aWNlQWNjZXNzVG9rZW4iLCJqdGkiOiIyZDZjNGFhNC1kOTUzLTQ5ZDMtYWUxNi0yZGQ3YmE3NDU2OTciLCJpYXQiOiI4LzEzLzIwMjQgODoxNjo0NiBBTSIsIlVzZXJJZCI6IjE3MSIsIkRpc3BsYXlOYW1lIjoicmFqZW1vdG9yc0BnbWFpbC5jb20iLCJVc2VyTmFtZSI6InJhamVtb3RvcnNAZ21haWwuY29tIiwiRW1haWwiOiJyYWplbW90b3JzQHlvcG1haWwuY29tIiwiZXhwIjoxNzIzNTQwNjA2LCJpc3MiOiJKV1RBdXRoZW50aWNhdGlvblNlcnZlciIsImF1ZCI6IkpXVFNlcnZpY2VQb3N0bWFuQ2xpZW50In0.YLYYTvtXNdJZ_5_svxi_i_DsChxyEkCZqb39LLA_BtQ'
//       };

//       try {
//         const response = await fetch(url, { headers });
//         if (!response.ok) {
//           throw new Error(`HTTP error! status: ${response.status}`);
//         }
//         const jsonData = await response.json();
//         setData(jsonData);  // Assuming jsonData is an array
//       } catch (error) {
//         console.error('Error fetching the pending approval list:', error);
//       } finally {
//         setLoading(false);
//       }
//     };

//     fetchPendingApprovalList();
//   }, []);

//   if (loading) {
//     return (
//       <SafeAreaView className="bg-violet-950 flex-1">
//         <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>
//           <Text style={{ color: '#FFF' }}>Loading...</Text>
//         </View>
//       </SafeAreaView>
//     );
//   }

//   return (
//     <SafeAreaView className="bg-violet-950 flex-1">
//       <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>
//         <View style={{ width: '90%', height: '90%', backgroundColor: '#FFF', borderRadius: 20, padding: 20 }}>
//           <ScrollView>
//             <View style={{ justifyContent: 'center', alignItems: 'center' }}>
//               {data.map((item, index) => (
//                 <View key={index} style={{ width: '90%', height: 200, backgroundColor: '#EDE9FE', marginVertical: 10, borderRadius: 10, padding: 10 }}>
//                   <Text style={{ fontSize: 20, color: '#4E2D87', textAlign: 'center' }}>Credit LIMIT Approval</Text>
//                   <Text style={{ fontSize: 15, color: '#000', marginTop: 10 }}>OEM/Distributor : {item.oemDistributor}</Text>
//                   <Text style={{ fontSize: 15, color: '#000' }}>Name: {item.name}</Text>
//                   <Text style={{ fontSize: 15, color: '#000' }}>Credit Limit : {item.creditLimit}</Text>
//                   <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>
//                     <TouchableOpacity onPress={() => console.log('HOLD button pressed')} style={{ marginTop: 20 }}>
//                       <Text style={{ fontSize: 15, color: '#FFF', backgroundColor: '#DC143C', borderRadius: 40, paddingHorizontal: 20, paddingVertical: 10 }}>HOLD</Text>
//                     </TouchableOpacity>
//                     <TouchableOpacity onPress={() => console.log('Approve button pressed')} style={{ marginTop: 20, marginLeft: 10 }}>
//                       <Text style={{ fontSize: 15, color: '#FFF', backgroundColor: '#7ed321', borderRadius: 40, paddingHorizontal: 20, paddingVertical: 10 }}>Approve</Text>
//                     </TouchableOpacity>
//                   </View>
//                 </View>
//               ))}
//             </View>
//           </ScrollView>
//         </View>
//       </View>
//     </SafeAreaView>
//   );
// }

// export default Credit_Limit_Notification;




import React, { useState, useEffect } from 'react';
import { View, Text, ScrollView } from 'react-native';
import { SafeAreaView } from 'react-native-safe-area-context';
import { TouchableOpacity } from 'react-native-gesture-handler';

const Credit_Limit_Notification = () => {
  const [data, setData] = useState([]);
  const [loading, setLoading] = useState(true);



  useEffect(() => {
    const fetchPendingApprovalList = async () => {
      const url = 'http://testing-only-erp-api.containe.in/api/Wallet/GetPendingApprovalListForNotification';
      const headers = {
        'MobileAPISecKey': 'X7vNc2Pg4L0kRy1FJ8sBhMzWaEt5DpQx',
        'Authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJKV1RTZXJ2aWNlQWNjZXNzVG9rZW4iLCJqdGkiOiIwODQ1NGNkMi1hNjY0LTQzZDEtYmFhNC1jNGRiMzRiNDA0YTciLCJpYXQiOiI4LzEzLzIwMjQgMTE6MzU6MjQgQU0iLCJVc2VySWQiOiIxMTI3OSIsIkRpc3BsYXlOYW1lIjoiQW5hbmQiLCJVc2VyTmFtZSI6IkFuYW5kIiwiRW1haWwiOiJhbmFuZEB5b3BtYWlsLmNvbSIsImV4cCI6MTcyMzU1MjUyNCwiaXNzIjoiSldUQXV0aGVudGljYXRpb25TZXJ2ZXIiLCJhdWQiOiJKV1RTZXJ2aWNlUG9zdG1hbkNsaWVudCJ9.x-9cC-P2hm_dXGJ5FXiDOjnwjOYEgWsGAFJsZwlJYn8'
      };

      try {
        const response = await fetch(url, { headers });
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        const jsonData = await response.json();
        setData(jsonData);  // Assuming jsonData is an array
      } catch (error) {
        console.error('Error fetching the pending approval list:', error);
      } finally {
        setLoading(false);
      }
    };

    fetchPendingApprovalList();
  }, []);

  if (loading) {
    return (
      <SafeAreaView className="bg-violet-950 flex-1">
        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>
          <Text style={{ color: '#FFF' }}>Loading...</Text>
        </View>
      </SafeAreaView>
    );
  }

  return (
    <SafeAreaView className="bg-violet-950 flex-1">
      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>
        <View style={{ width: '90%', height: '90%', backgroundColor: '#FFF', borderRadius: 20, padding: 20 }}>
          <ScrollView>
            <View style={{ justifyContent: 'center', alignItems: 'center' }}>
              {data.map((item, index) => (
                <View key={index} style={{ width: '90%', height: 200, backgroundColor: '#EDE9FE', marginVertical: 10, borderRadius: 10, padding: 10 }}>
                  <Text style={{ fontSize: 20, color: '#4E2D87', textAlign: 'center' }}>Credit LIMIT Approval</Text>
                  <Text style={{ fontSize: 15, color: '#000', marginTop: 10 }}>User Name: {item.userName}</Text>
                  <Text style={{ fontSize: 15, color: '#000' }}>Transaction ID: {item.transactionId}</Text>
                  <Text style={{ fontSize: 15, color: '#000' }}>Pending Amount: {item.pendingAmount}</Text>
                  <Text style={{ fontSize: 15, color: '#000' }}>Approved Status: {item.approvedStatusName}</Text>
                  <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>
                    <TouchableOpacity onPress={() => console.log('HOLD button pressed')} style={{ marginTop: 20 }}>
                      <Text style={{ fontSize: 15, color: '#FFF', backgroundColor: '#DC143C', borderRadius: 40, paddingHorizontal: 20, paddingVertical: 10 }}>HOLD</Text>
                    </TouchableOpacity>
                    <TouchableOpacity onPress={() => console.log('Approve button pressed')} style={{ marginTop: 20, marginLeft: 10 }}>
                      <Text style={{ fontSize: 15, color: '#FFF', backgroundColor: '#7ed321', borderRadius: 40, paddingHorizontal: 20, paddingVertical: 10 }}>Approve</Text>
                    </TouchableOpacity>
                  </View>
                </View>
              ))}
            </View>
          </ScrollView>
        </View>
      </View>
    </SafeAreaView>
  );
}


export default Credit_Limit_Notification;
